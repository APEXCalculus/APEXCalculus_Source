\begin{tikzpicture}
\begin{axis}%
[
width=\marginparwidth+25pt,%
tick label style={font=\scriptsize},axis on top,
			axis y line=none,
%			axis x line=none,
%%			axis z line=none,%
			axis lines=center,
			y dir=reverse,
%			view={125}{30},
			name=myplot,
%			%x=.37\marginparwidth,
%			%y=.37\marginparwidth,
			xtick={1,2,3},
			ztick=\empty,% 
%			extra x ticks={1,3},
%			extra x tick labels={$a$,$b$},
%			ytick={.1,1},
%			%minor y tick num=1,%extra y ticks={-5,-3,...,7},%
			ymin=-1,ymax=1,%
			xmin=-1.2,xmax=1.2,
			zmin=-.1,zmax=1.2%
]
%%outer cylinder top
%\addplot3[domain=.75:1,y domain=-90:240,surf,shader=flat,colormap={mp2}{\colormapone}] ({x*cos(y)},{x*sin(y)},{.5});
%
%%middle cylinder top back
%\addplot3[domain=.5:.75,y domain=-210:0,surf,shader=flat,colormap={mp2}{\colormaptwo}] ({x*cos(y)},{x*sin(y)},{.64});
%
%%inner cylinder side
%\addplot3[domain=.64:.8,y domain=-40:250,surf,shader=flat,colormap={mp2}{\colormapone}] ({.5*cos(y)},{.5*sin(y)},{x});
%
%%middle cylinder top front
%\addplot3[domain=.5:.75,y domain=0:150,,surf,shader=flat,colormap={mp2}{\colormaptwo}] ({x*cos(y)},{x*sin(y)},{.64});
%
%%middle cylinder side
%\addplot3[domain=.5:.64,y domain=-40:150,surf,shader=flat,colormap={mp2}{\colormaptwo}] ({.75*cos(y)},{.75*sin(y)},{x});

% middle edges
%\addplot3[domain=0:360,samples y=0,black,smooth,] ({.5*cos(x)},{.5*sin(x)},{.64});
%\addplot3[domain=0:360,samples y=0,black,smooth,] ({.75*cos(x)},{.75*sin(x)},{.64});
%\addplot3[domain=-30:150,samples y=0,black,smooth,] ({.75*cos(x)},{.75*sin(x)},{.5});


%%top/inner circle
%\addplot3[domain=0:.5,y domain=0:360,samples y=36,surf,shader=flat,colormap={mp2}{\colormapone}] ({x*cos(y)},{x*sin(y)},{.8});

% top edges
%\addplot3[domain=0:360,samples y=0,black,smooth,] ({.5*cos(x)},{.5*sin(x)},{.8});

%%outer cylinder side
%\addplot3[domain=0:.5,y domain=-40:150,surf,shader=flat,colormap={mp2}{\colormapone}] ({cos(y)},{sin(y)},{x});

%outer circle edge
\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom]
(axis cs:0.8192,-0.5736,0.5)--(axis cs:0.866,-0.5,0.5)--(axis
cs:0.9063,-0.4226,0.5)--(axis cs:0.9397,-0.342,0.5)--(axis
cs:0.9659,-0.2588,0.5)--(axis cs:0.9848,-0.1736,0.5)--(axis
cs:0.9962,-0.08716,0.5)--(axis cs:1.,0,0.5)--(axis
cs:0.9962,0.08716,0.5)--(axis cs:0.9848,0.1736,0.5)--(axis
cs:0.9659,0.2588,0.5)--(axis cs:0.9397,0.342,0.5)--(axis
cs:0.9063,0.4226,0.5)--(axis cs:0.866,0.5,0.5)--(axis
cs:0.8192,0.5736,0.5)--(axis cs:0.766,0.6428,0.5)--(axis
cs:0.7071,0.7071,0.5)--(axis cs:0.6428,0.766,0.5)--(axis
cs:0.5736,0.8192,0.5)--(axis cs:0.5,0.866,0.5)--(axis
cs:0.4226,0.9063,0.5)--(axis cs:0.342,0.9397,0.5)--(axis
cs:0.2588,0.9659,0.5)--(axis cs:0.1736,0.9848,0.5)--(axis
cs:0.08716,0.9962,0.5)--(axis cs:0,1.,0.5)--(axis
cs:-0.08716,0.9962,0.5)--(axis cs:-0.1736,0.9848,0.5)--(axis
cs:-0.2588,0.9659,0.5)--(axis cs:-0.342,0.9397,0.5)--(axis
cs:-0.4226,0.9063,0.5)--(axis cs:-0.5,0.866,0.5)--(axis
cs:-0.5736,0.8192,0.5)--(axis cs:-0.6428,0.766,0.5)--(axis
cs:-0.7071,0.7071,0.5)--(axis cs:-0.766,0.6428,0.5)--(axis
cs:-0.8192,0.5736,0.5)--(axis cs:-0.866,0.5,0.5)--(axis
cs:-0.866,0.5,0)--(axis cs:-0.8192,0.5736,0)--(axis
cs:-0.766,0.6428,0)--(axis cs:-0.7071,0.7071,0)--(axis
cs:-0.6428,0.766,0)--(axis cs:-0.5736,0.8192,0)--(axis
cs:-0.5,0.866,0)--(axis cs:-0.4226,0.9063,0)--(axis
cs:-0.342,0.9397,0)--(axis cs:-0.2588,0.9659,0)--(axis
cs:-0.1736,0.9848,0)--(axis cs:-0.08716,0.9962,0)--(axis
cs:0,1.,0)--(axis cs:0.08716,0.9962,0)--(axis
cs:0.1736,0.9848,0)--(axis cs:0.2588,0.9659,0)--(axis
cs:0.342,0.9397,0)--(axis cs:0.4226,0.9063,0)--(axis
cs:0.5,0.866,0)--(axis cs:0.5736,0.8192,0)--(axis
cs:0.6428,0.766,0)--(axis cs:0.7071,0.7071,0)--(axis
cs:0.766,0.6428,0)--(axis cs:0.8192,0.5736,0)--(axis
cs:0.866,0.5,0)--(axis cs:0.9063,0.4226,0)--(axis
cs:0.9397,0.342,0)--(axis cs:0.9659,0.2588,0)--(axis
cs:0.9848,0.1736,0)--(axis cs:0.9962,0.08716,0)--(axis
cs:1.,0,0)--(axis cs:0.9962,-0.08716,0)--(axis
cs:0.9848,-0.1736,0)--(axis cs:0.9659,-0.2588,0)--(axis
cs:0.9397,-0.342,0)--(axis cs:0.9063,-0.4226,0)--(axis
cs:0.866,-0.5,0)--(axis cs:0.8192,-0.5736,0)--cycle;

\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom]
(axis cs:1.,0,0.5)--(axis cs:0.9848,0.1736,0.5)--(axis
cs:0.9397,0.342,0.5)--(axis cs:0.866,0.5,0.5)--(axis
cs:0.766,0.6428,0.5)--(axis cs:0.6428,0.766,0.5)--(axis
cs:0.5,0.866,0.5)--(axis cs:0.342,0.9397,0.5)--(axis
cs:0.1736,0.9848,0.5)--(axis cs:0,1.,0.5)--(axis
cs:-0.1736,0.9848,0.5)--(axis cs:-0.342,0.9397,0.5)--(axis
cs:-0.5,0.866,0.5)--(axis cs:-0.6428,0.766,0.5)--(axis
cs:-0.766,0.6428,0.5)--(axis cs:-0.866,0.5,0.5)--(axis
cs:-0.9397,0.342,0.5)--(axis cs:-0.9848,0.1736,0.5)--(axis
cs:-1.,0,0.5)--(axis cs:-0.9848,-0.1736,0.5)--(axis
cs:-0.9397,-0.342,0.5)--(axis cs:-0.866,-0.5,0.5)--(axis
cs:-0.766,-0.6428,0.5)--(axis cs:-0.6428,-0.766,0.5)--(axis
cs:-0.5,-0.866,0.5)--(axis cs:-0.342,-0.9397,0.5)--(axis
cs:-0.1736,-0.9848,0.5)--(axis cs:0,-1.,0.5)--(axis
cs:0.1736,-0.9848,0.5)--(axis cs:0.342,-0.9397,0.5)--(axis
cs:0.5,-0.866,0.5)--(axis cs:0.6428,-0.766,0.5)--(axis
cs:0.766,-0.6428,0.5)--(axis cs:0.866,-0.5,0.5)--(axis
cs:0.9397,-0.342,0.5)--(axis cs:0.9848,-0.1736,0.5)--(axis
cs:1.,0,0.5)--cycle; 

\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom](axis cs:0.75,0,0.64)--(axis cs:0.7386,0.1302,0.64)--(axis
cs:0.7048,0.2565,0.64)--(axis cs:0.6495,0.375,0.64)--(axis
cs:0.5745,0.4821,0.64)--(axis cs:0.4821,0.5745,0.64)--(axis
cs:0.375,0.6495,0.64)--(axis cs:0.2565,0.7048,0.64)--(axis
cs:0.1302,0.7386,0.64)--(axis cs:0,0.75,0.64)--(axis
cs:-0.1302,0.7386,0.64)--(axis cs:-0.2565,0.7048,0.64)--(axis
cs:-0.375,0.6495,0.64)--(axis cs:-0.4821,0.5745,0.64)--(axis
cs:-0.5745,0.4821,0.64)--(axis cs:-0.6495,0.375,0.64)--(axis
cs:-0.7048,0.2565,0.64)--(axis cs:-0.7386,0.1302,0.64)--(axis
cs:-0.75,0,0.64)--(axis cs:-0.7386,-0.1302,0.64)--(axis
cs:-0.7048,-0.2565,0.64)--(axis cs:-0.6495,-0.375,0.64)--(axis
cs:-0.5745,-0.4821,0.64)--(axis cs:-0.4821,-0.5745,0.64)--(axis
cs:-0.375,-0.6495,0.64)--(axis cs:-0.2565,-0.7048,0.64)--(axis
cs:-0.1302,-0.7386,0.64)--(axis cs:0,-0.75,0.64)--(axis
cs:0.1302,-0.7386,0.64)--(axis cs:0.2565,-0.7048,0.64)--(axis
cs:0.375,-0.6495,0.64)--(axis cs:0.4821,-0.5745,0.64)--(axis
cs:0.5745,-0.4821,0.64)--(axis cs:0.6495,-0.375,0.64)--(axis
cs:0.7048,-0.2565,0.64)--(axis cs:0.7386,-0.1302,0.64)--(axis
cs:0.75,0,0.64)--cycle;

\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom]
(axis cs:0.6144,-0.4302,0.64)--(axis cs:0.6495,-0.375,0.64)--(axis
cs:0.6797,-0.317,0.64)--(axis cs:0.7048,-0.2565,0.64)--(axis
cs:0.7244,-0.1941,0.64)--(axis cs:0.7386,-0.1302,0.64)--(axis
cs:0.7471,-0.06537,0.64)--(axis cs:0.75,0,0.64)--(axis
cs:0.7471,0.06537,0.64)--(axis cs:0.7386,0.1302,0.64)--(axis
cs:0.7244,0.1941,0.64)--(axis cs:0.7048,0.2565,0.64)--(axis
cs:0.6797,0.317,0.64)--(axis cs:0.6495,0.375,0.64)--(axis
cs:0.6144,0.4302,0.64)--(axis cs:0.5745,0.4821,0.64)--(axis
cs:0.5303,0.5303,0.64)--(axis cs:0.4821,0.5745,0.64)--(axis
cs:0.4302,0.6144,0.64)--(axis cs:0.375,0.6495,0.64)--(axis
cs:0.317,0.6797,0.64)--(axis cs:0.2565,0.7048,0.64)--(axis
cs:0.1941,0.7244,0.64)--(axis cs:0.1302,0.7386,0.64)--(axis
cs:0.06537,0.7471,0.64)--(axis cs:0,0.75,0.64)--(axis
cs:-0.06537,0.7471,0.64)--(axis cs:-0.1302,0.7386,0.64)--(axis
cs:-0.1941,0.7244,0.64)--(axis cs:-0.2565,0.7048,0.64)--(axis
cs:-0.317,0.6797,0.64)--(axis cs:-0.375,0.6495,0.64)--(axis
cs:-0.4302,0.6144,0.64)--(axis cs:-0.4821,0.5745,0.64)--(axis
cs:-0.5303,0.5303,0.64)--(axis cs:-0.5745,0.4821,0.64)--(axis
cs:-0.6144,0.4302,0.64)--(axis cs:-0.6495,0.375,0.64)--(axis
cs:-0.6495,0.375,0.5)--(axis cs:-0.6144,0.4302,0.5)--(axis
cs:-0.5745,0.4821,0.5)--(axis cs:-0.5303,0.5303,0.5)--(axis
cs:-0.4821,0.5745,0.5)--(axis cs:-0.4302,0.6144,0.5)--(axis
cs:-0.375,0.6495,0.5)--(axis cs:-0.317,0.6797,0.5)--(axis
cs:-0.2565,0.7048,0.5)--(axis cs:-0.1941,0.7244,0.5)--(axis
cs:-0.1302,0.7386,0.5)--(axis cs:-0.06537,0.7471,0.5)--(axis
cs:0,0.75,0.5)--(axis cs:0.06537,0.7471,0.5)--(axis
cs:0.1302,0.7386,0.5)--(axis cs:0.1941,0.7244,0.5)--(axis
cs:0.2565,0.7048,0.5)--(axis cs:0.317,0.6797,0.5)--(axis
cs:0.375,0.6495,0.5)--(axis cs:0.4302,0.6144,0.5)--(axis
cs:0.4821,0.5745,0.5)--(axis cs:0.5303,0.5303,0.5)--(axis
cs:0.5745,0.4821,0.5)--(axis cs:0.6144,0.4302,0.5)--(axis
cs:0.6495,0.375,0.5)--(axis cs:0.6797,0.317,0.5)--(axis
cs:0.7048,0.2565,0.5)--(axis cs:0.7244,0.1941,0.5)--(axis
cs:0.7386,0.1302,0.5)--(axis cs:0.7471,0.06537,0.5)--(axis
cs:0.75,0,0.5)--(axis cs:0.7471,-0.06537,0.5)--(axis
cs:0.7386,-0.1302,0.5)--(axis cs:0.7244,-0.1941,0.5)--(axis
cs:0.7048,-0.2565,0.5)--(axis cs:0.6797,-0.317,0.5)--(axis
cs:0.6495,-0.375,0.5)--(axis cs:0.6144,-0.4302,0.5)--cycle;



\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom] (axis cs:0.4096,-0.2868,0.8)--(axis cs:0.433,-0.25,0.8)--(axis cs:0.4532,-0.2113,0.8)--(axis cs:0.4698,-0.171,0.8)--(axis cs:0.483,-0.1294,0.8)--(axis cs:0.4924,-0.08682,0.8)--(axis cs:0.4981,-0.04358,0.8)--(axis cs:0.5,0,0.8)--(axis cs:0.4981,0.04358,0.8)--(axis cs:0.4924,0.08682,0.8)--(axis cs:0.483,0.1294,0.8)--(axis cs:0.4698,0.171,0.8)--(axis cs:0.4532,0.2113,0.8)--(axis cs:0.433,0.25,0.8)--(axis cs:0.4096,0.2868,0.8)--(axis cs:0.383,0.3214,0.8)--(axis
cs:0.3536,0.3536,0.8)--(axis cs:0.3214,0.383,0.8)--(axis
cs:0.2868,0.4096,0.8)--(axis cs:0.25,0.433,0.8)--(axis
cs:0.2113,0.4532,0.8)--(axis cs:0.171,0.4698,0.8)--(axis
cs:0.1294,0.483,0.8)--(axis cs:0.08682,0.4924,0.8)--(axis
cs:0.04358,0.4981,0.8)--(axis cs:0,0.5,0.8)--(axis
cs:-0.04358,0.4981,0.8)--(axis cs:-0.08682,0.4924,0.8)--(axis
cs:-0.1294,0.483,0.8)--(axis cs:-0.171,0.4698,0.8)--(axis
cs:-0.2113,0.4532,0.8)--(axis cs:-0.25,0.433,0.8)--(axis
cs:-0.2868,0.4096,0.8)--(axis cs:-0.3214,0.383,0.8)--(axis
cs:-0.3536,0.3536,0.8)--(axis cs:-0.383,0.3214,0.8)--(axis
cs:-0.4096,0.2868,0.8)--(axis cs:-0.433,0.25,0.8)--(axis
cs:-0.433,0.25,0.64)--(axis cs:-0.4096,0.2868,0.64)--(axis
cs:-0.383,0.3214,0.64)--(axis cs:-0.3536,0.3536,0.64)--(axis
cs:-0.3214,0.383,0.64)--(axis cs:-0.2868,0.4096,0.64)--(axis
cs:-0.25,0.433,0.64)--(axis cs:-0.2113,0.4532,0.64)--(axis
cs:-0.171,0.4698,0.64)--(axis cs:-0.1294,0.483,0.64)--(axis
cs:-0.08682,0.4924,0.64)--(axis cs:-0.04358,0.4981,0.64)--(axis
cs:0,0.5,0.64)--(axis cs:0.04358,0.4981,0.64)--(axis
cs:0.08682,0.4924,0.64)--(axis cs:0.1294,0.483,0.64)--(axis
cs:0.171,0.4698,0.64)--(axis cs:0.2113,0.4532,0.64)--(axis
cs:0.25,0.433,0.64)--(axis cs:0.2868,0.4096,0.64)--(axis
cs:0.3214,0.383,0.64)--(axis cs:0.3536,0.3536,0.64)--(axis
cs:0.383,0.3214,0.64)--(axis cs:0.4096,0.2868,0.64)--(axis
cs:0.433,0.25,0.64)--(axis cs:0.4532,0.2113,0.64)--(axis
cs:0.4698,0.171,0.64)--(axis cs:0.483,0.1294,0.64)--(axis
cs:0.4924,0.08682,0.64)--(axis cs:0.4981,0.04358,0.64)--(axis
cs:0.5,0,0.64)--(axis cs:0.4981,-0.04358,0.64)--(axis
cs:0.4924,-0.08682,0.64)--(axis cs:0.483,-0.1294,0.64)--(axis
cs:0.4698,-0.171,0.64)--(axis cs:0.4532,-0.2113,0.64)--(axis
cs:0.433,-0.25,0.64)--(axis cs:0.4096,-0.2868,0.64)--cycle;

\draw [,smooth,top color=colormaponetop,bottom color=colormaponebottom] (axis cs:0.5,0,0.8)--(axis cs:0.4755,0.1545,0.8)--(axis cs:0.4045,0.2939,0.8)--(axis cs:0.2939,0.4045,0.8)--(axis cs:0.1545,0.4755,0.8)--(axis cs:0,0.5,0.8)--(axis cs:-0.1545,0.4755,0.8)--(axis cs:-0.2939,0.4045,0.8)--(axis cs:-0.4045,0.2939,0.8)--(axis cs:-0.4755,0.1545,0.8)--(axis cs:-0.5,0,0.8)--(axis cs:-0.4755,-0.1545,0.8)--(axis cs:-0.4045,-0.2939,0.8)--(axis cs:-0.2939,-0.4045,0.8)--(axis cs:-0.1545,-0.4755,0.8)--(axis cs:0,-0.5,0.8)--(axis cs:0.1545,-0.4755,0.8)--(axis cs:0.2939,-0.4045,0.8)--(axis cs:0.4045,-0.2939,0.8)--(axis cs:0.4755,-0.1545,0.8)--(axis cs:0.5,0,0.8) --cycle;

\addplot3[domain=-78:200,samples y=0,black,smooth,] ({cos(x)},{sin(x)},{.5});
\addplot3[domain=-35:150,samples y=0,black,smooth,] ({cos(x)},{sin(x)},{0});

\addplot3[domain=150:325,samples y=0,black,smooth,dashed] ({cos(x)},{sin(x)},{0});
\addplot3[domain=0:360,samples y=0,black,smooth,dashed] ({.75*cos(x)},{.75*sin(x)},{0});
\addplot3[domain=0:360,samples y=0,black,smooth,dashed] ({.5*cos(x)},{.5*sin(x)},{0});

\draw [dashed] (axis cs:.41,-.29,0) -- (axis cs:.41,-.29,.64);
\draw [dashed] (axis cs:-.43,.25,0) -- (axis cs:-.43,.25,.64);

\draw [dashed] (axis cs:-.65,.375,0) -- (axis cs:-.65,.375,.64);
\draw [dashed] (axis cs:.61,-.43,0) -- (axis cs:.61,-.43,.64);

\draw [thick,smooth](axis cs:-1.,0,0.5)--(axis cs:-0.9,0,0.5525)--(axis
cs:-0.8,0,0.6098)--(axis cs:-0.7,0,0.6711)--(axis
cs:-0.6,0,0.7353)--(axis cs:-0.5,0,0.8)--(axis
cs:-0.4,0,0.8621)--(axis cs:-0.3,0,0.9174)--(axis
cs:-0.2,0,0.9615)--(axis cs:-0.1,0,0.9901)--(axis cs:0,0,1.)--(axis
cs:0.1,0,0.9901)--(axis cs:0.2,0,0.9615)--(axis
cs:0.3,0,0.9174)--(axis cs:0.4,0,0.8621)--(axis cs:0.5,0,0.8)--(axis
cs:0.6,0,0.7353)--(axis cs:0.7,0,0.6711)--(axis
cs:0.8,0,0.6098)--(axis cs:0.9,0,0.5525)--(axis cs:1.,0,0.5);


\end{axis}

\node [right] at (myplot.right of origin)[shift={(-20pt,-8pt)}] {\scriptsize $x$};
\node [above] at (myplot.above origin) [shift={(0,-23pt)}] {\scriptsize $y$};
\end{tikzpicture}



