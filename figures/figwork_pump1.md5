\begingroup \toks 0={macro:->[x=.1cm,y=.125cm,>=stealth] \par \par \draw [->] (0,-2) -- (0,37) node [above] {\scriptsize $y$}; \par \draw (-1,0) node [left] {\scriptsize 0} -- (1,0) (-1,30) node [left] {\scriptsize 30} -- (1,30) (-1,35) node [left] {\scriptsize 35} -- (1,35); \par \draw (2,12)--(4,12) (2,35)--(4,35) (3,12) -- node [pos=.5,fill=white,rotate=90] {\scriptsize $35-y_i$} (3,35); \par \begin {scope}[xscale=4,shift={(4.5,0)}] \par \draw (0,30) -- node [pos=.5,above] {\scriptsize $10$} (2.9,29.22); \draw [thick] (3,30) --(3,0) arc (0:-180:3) -- (-3,30); \draw [thick](0,30) circle (3); \draw [thick,dashed] (3,0) arc (0:180:3); \par \foreach \y /\x in {12/{$y_i$},16/{$y_{i+1}$}} {\draw (3,\y ) node [right] {\scriptsize \x } arc (0:-180:3); \draw [dashed] (3,\y ) arc (0:180:3); } \par \draw (5.1,14) node {\scriptsize $\left .\rule {0pt}{.3cm}\right \}\Delta y_i$}; \par \par \draw [left color={\colorone },right color={\coloronefill },thick] (0,16) circle (3); \draw [left color={\colorone },right color={\coloronefill },thick] (-3,16) -- (-3,12) arc (180:360:3) -- (3,16) arc (360:180:3); \par \end {scope} \par \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
