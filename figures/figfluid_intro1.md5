\begingroup \toks 0={macro:->[x=1.25cm,y=1.25cm,>=stealth] \par \begin {scope} \draw [thick] (0,0) -- (1,2) -- (2,2) -- (4,0)--cycle; \par \draw [{\colortwo },fill={\colortwofill },thick] (.5,.9) rectangle (3,1.1); \par \draw (3,1) node [right] {\scriptsize $\left . \rule {0pt}{.2cm}\right \}\Delta y_i$}; \par \draw (.5,.5) -- (.5,.7) (3,.5) -- (3,.7) (.5,.6) -- node [pos=.5,below,] {\scriptsize $\ell (c_i)$} (3,.6); \par \foreach \x in {0,1,2,3} {\begin {scope}[shift={(\x *1,2.5)}] \draw [{\colorone },thick] (-.5,.25) parabola bend (0,0) (.5,.25); \end {scope} } \par \draw (.2,1) -- (.4,1) (.2,2.5) -- (.4,2.5) (.3,1) -- node [pos=.5,left] {\scriptsize $d_i$} (.3,2.5); \par \end {scope} \par \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
