\begingroup \toks 0={macro:->[scale=1] \draw [dashed,gray] (-2.1,0) -- (0,0); \draw [thick,->,>=stealth] (0,0) node [below] {$O$} -- (2.5,0) ; \filldraw (0,0) circle (1.5pt); \foreach \x in {1,2} {\draw (0,0) circle (\x cm); \draw (\x ,0) node [shift={(3pt,-4pt)}] {\scriptsize \x }; } \foreach \x in {30,45,60,90,120,135,150} {\draw [rotate=\x ,dashed,gray] (-2.3,0) -- (2.3,0); } \par \draw [thick,{\colorone },domain=0:360,samples=60,smooth] plot ({cos(\x )*(1+cos(\x ))},{sin(\x )*(1+cos(\x ))}); \par \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
