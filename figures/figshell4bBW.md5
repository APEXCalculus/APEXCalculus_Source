\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis lines=center, y dir=reverse, name=myplot, xtick=\empty , ztick={1},extra x ticks={3.14}, extra x tick labels={$\pi $}, ymin=-3,ymax=3,xmin=-3.5,xmax=3.5, zmin=-.2,zmax=1.2] \par \par \addplot 3[domain=0:.84,y domain=160:340,surf,colormap={mp2}{\colormaptwo },opacity=.8,faceted color=black!60,very thin,z buffer=sort,samples=6,samples y=16] ({cos(y)},{sin(y)},{x}); \par \addplot 3[domain=0:.84,y domain=-20:160,surf,colormap={mp2}{\colormaptwo },opacity=.8,faceted color=black!60,very thin,z buffer=sort,samples=6,samples y=15] ({cos(y)},{sin(y)},{x}); \par \addplot 3[domain=0:360,samples y=0,black,thick,smooth,] ({sin(x)},{cos(x)},{.84}); \par \addplot 3[domain=160:340,dashed,samples y=0,black,thick,smooth,] ({cos(x)},{sin(x)},{0}); \par \addplot 3[domain=-20:160,samples y=0,black,thick,smooth,] ({cos(x)},{sin(x)},{0}); \par \addplot 3[domain=0:3.1415,samples y=0,black,thick,smooth,{\colorone }] ({x},{0},{sin(deg(x))}); \par \par \par \par \par \end {axis} \par \node [right] at (myplot.right of origin)[shift={(-20pt,-16pt)}] {\scriptsize $x$}; \node [above] at (myplot.above origin) [shift={(0,-15pt)}] {\scriptsize $y$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
