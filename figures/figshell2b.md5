\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis lines=center, y dir=reverse, name=myplot, xtick={1,2,3,4,5,6}, ztick={1,2,3},ymin=-3,ymax=3,xmin=-.2,xmax=6.2, zmin=-.1,zmax=3.2] \par \par \par \par \par \addplot 3[domain=1:1.8,y domain=160:340,surf,colormap={mp2}{\colormaptwo },opacity=.6,faceted color=black!60,very thin,z buffer=sort,samples=6,samples y=16] ({2.6*cos(y)+3},{2.6*sin(y)},{x}); \par \draw (axis cs:0,0,1) -- (axis cs:1,0,3) -- (axis cs:1,0,1) [thick,{\colorone }]--(axis cs:0,0,1); \par \par \addplot 3[domain=1:1.8,y domain=-20:160,surf,colormap={mp2}{\colormaptwo },opacity=.6,faceted color=black!60,very thin,z buffer=sort,samples=6,samples y=16] ({2.6*cos(y)+3},{2.6*sin(y)},{x}); \par \par \draw [dashed] (axis cs:3,0,0) -- (axis cs:3,0,3.75); \par \addplot 3[domain=0:360,samples y=0,black,thick,smooth,] ({2.6*cos(x)+3},{2.6*sin(x)},{1.8}); \par \addplot 3[domain=160:340,samples y=0,black,thick,dashed,smooth,] ({2.6*cos(x)+3},{2.6*sin(x)},{1}); \par \addplot 3[domain=-20:160,samples y=0,black,thick,smooth,] ({2.6*cos(x)+3},{2.6*sin(x)},{1}); \par \par \draw [thick,{\colortwo }] (axis cs: .4,0,1) -- (axis cs:.4,0,1.8); \par \end {axis} \par \node [right] at (myplot.right of origin)[shift={(-20pt,-16pt)}] {\scriptsize $x$}; \node [above] at (myplot.above origin) [shift={(0,-15pt)}] {\scriptsize $y$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
