\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis z line=none,axis lines=center, y dir=reverse, view={25}{30}, name=myplot, ztick=\empty ,ytick=\empty , ymin=-2.1,ymax=2.1,xmin=-2.1,xmax=2.1, zmin=-.1, zmax=1.5,colormap={mp}{\colormapone } ] \par \par \par \addplot 3[domain=1:2,y domain=-180:180,surf,colormap={mp2}{\colormapplaneone },opacity=.8,faceted color=black!40,samples=16,samples y=36,very thin,z buffer=sort] ({cos(y)*x},{sin(y)*x},{1/x}); \par \addplot 3[domain=0:1.5,y domain=0:360,surf,shader=flat,colormap={mp2}{\colormaptwo },opacity=.5] ({x*cos(y)},{x*sin(y)},.66); \par \addplot 3[domain=0:360,samples y=0,black,thick,smooth,{\colortwo }] ({1.5*cos(x)},{1.5*sin(x)},.66); \par \addplot 3[domain=-75:206,black,samples y=0,thin,samples=45] ({2*cos(x)},{2*sin(x)},.5); \par \addplot 3[domain=1:2,samples y=0,thick,{\colorone }] (x,0,{1/x}); \par \par \addplot 3[domain=0:360,black,samples y=0,thin,samples=45] ({cos(x)},{sin(x)},1); \par \draw [dashed] (axis cs:0,0,0) -- (axis cs:0,0,.8); \draw [->,>=latex] (axis cs:0,0,.8) -- (axis cs:0,0,1.5); \par \end {axis} \par \node [right] at (myplot.right of origin)[shift={(-20pt,-8pt)}] {\scriptsize $x$}; \node [above] at (myplot.above origin) [shift={(0,-24pt)}] {\scriptsize $y$}; \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
