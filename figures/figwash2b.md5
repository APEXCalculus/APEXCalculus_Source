\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis lines=center, y dir=reverse, name=myplot, xtick={1,2,3}, ztick=\empty ,ymin=-2,ymax=2,xmin=-2.2,xmax=2.2, zmin=-.2,zmax=3.2] \addplot 3[domain=1.5:2,y domain=90:360,samples y=36,surf,shader=flat,colormap={mp2}{\colormaptwo }] ({sin(y)*x},{cos(y)*x},2); \par \filldraw [fill={\coloronefill },draw=black,thick] (axis cs:1,0,1) -- (axis cs:2,0,1)--(axis cs:2,0,3) -- cycle; \par \addplot 3[domain=1.5:2,y domain=360:450,samples y=36,surf,shader=flat,colormap={mp2}{\colormaptwo }] ({sin(y)*x},{cos(y)*x},2); \addplot 3[domain=0:330,samples y=0,{\colortwo },thick,smooth,] ({1.5*cos(x)},{1.5*sin(x)},{2}); \par \addplot 3[domain=-52:302,samples y=0,{\colortwo },thick,smooth,] ({2*cos(x)},{2*sin(x)},{2}); \par \par \end {axis} \par \node [right] at (myplot.right of origin)[shift={(-20pt,-15pt)}] {\scriptsize $x$}; \node [above] at (myplot.above origin) [shift={(0,-17pt)}] {\scriptsize $y$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
