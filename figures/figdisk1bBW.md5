\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis x line=none, axis lines=center, y dir=reverse, view={25}{30}, name=myplot, ztick=\empty ,ytick=\empty , ymin=-1.1,ymax=1.1,xmin=-.1,xmax=2.1, zmin=-1.1, zmax=1.1,colormap={mp1}{\colormapone } ] \par \addplot 3[domain=1:2,y domain=-180:180,surf,samples y=36,shader=flat,] (x,{sin(y)/x},{cos(y)/x}); \par \draw [] (axis cs:-.2,0,0) -- (axis cs:.6,0,0); \par \addplot 3[domain=140:300,samples y=0,black,thin,dashed] (1,{cos(x)},{sin(x)}); \par \addplot 3[domain=0:.66,y domain=0:360,surf,shader=flat,colormap={mp2}{\colormaptwo },opacity=.5] (1.5,{x*cos(y)},{x*sin(y)}); \par \draw [dashed] (axis cs:.5,0,0) -- (axis cs:1.8,0,0); \par \addplot 3[domain=-50:130,samples y=0,black,thick,smooth,{\colortwo }] (1.5,{.66*cos(x)},{.66*sin(x)}); \par \addplot 3[domain=130:310,samples y=0,black,thick,smooth,dashed,{\colortwo }] (1.5,{.66*cos(x)},{.66*sin(x)}); \par \addplot 3[domain=1:2,samples y=0,thick,{\colorone }] (x,0,{1/x}); \par \addplot 3[domain=0:.5,y domain=0:360,surf,shader=flat] (2,{x*cos(y)},{x*sin(y)}); \par \addplot 3[domain=-60:140,samples y=0,black,thin] (1,{cos(x)},{sin(x)}); \par \par \addplot 3[domain=0:360,samples y=0,black,thin] (2,{.5*cos(x)},{.5*sin(x)}); \draw [->,>=stealth] (axis cs:2,0,0) -- (axis cs:2.3,0,0) node [right] {\scriptsize $x$}; \end {axis} \par \node [above] at (myplot.above origin) [shift={(0,-17pt)}] {\scriptsize $y$}; \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
