\begingroup \toks 0={macro:-> \begin {axis}[ width=\marginparwidth +25pt,tick label style={font=\scriptsize },axis on top, axis y line=none, axis lines=center, y dir=reverse, name=myplot, xtick={1,2,3,4,5,6}, ztick={1,2,3},ymin=-3,ymax=3,xmin=-.2,xmax=2.2, zmin=-3.2,zmax=3.2] \par \par \par \par \par \par \par \par \par \par \addplot 3[domain=0:1,y domain=195:285,surf,colormap={mp2}{\colormapplaneone },opacity=.6,faceted color=black!40,samples=6,samples y=9,very thin,z buffer=sort] ({x},{(2*x+1)*sin(y)},{(2*x+1)*cos(y)}); \par \addplot 3[domain=0:1,y domain=0:360,surf,colormap={mp2}{\colormaptwo },opacity=.8,faceted color=black!60,very thin,z buffer=sort,samples=6,samples y=16] ({x},{sin(y)},{cos(y)}); \par \par \addplot 3[domain=0:1,y domain=285:555,surf,colormap={mp2}{\colormapplaneone },opacity=.6,faceted color=black!40,samples=6,samples y=24,very thin,z buffer=sort] ({x},{(2*x+1)*sin(y)},{(2*x+1)*cos(y)}); \par \draw [thick,{\colorone }] (axis cs:0,0,1) -- (axis cs:1,0,1)-- (axis cs:1,0,3) -- cycle; \par \draw [dashed] (axis cs:1,.64,-.766) -- (axis cs:0,.64,-.766) (axis cs:1,-.5,.87) -- (axis cs:0,-.5,.87); \par \draw [smooth] (axis cs:1,0,3.)--(axis cs:1,0.5209,2.954)--(axis cs:1,1.026,2.819)--(axis cs:1,1.5,2.598)--(axis cs:1,1.928,2.298)--(axis cs:1,2.298,1.928)--(axis cs:1,2.598,1.5)--(axis cs:1,2.819,1.026)--(axis cs:1,2.954,0.5209)--(axis cs:1,3.,0)--(axis cs:1,2.954,-0.5209)--(axis cs:1,2.819,-1.026)--(axis cs:1,2.598,-1.5)--(axis cs:1,2.298,-1.928)--(axis cs:1,1.928,-2.298)--(axis cs:1,1.5,-2.598)--(axis cs:1,1.026,-2.819)--(axis cs:1,0.5209,-2.954)--(axis cs:1,0,-3.)--(axis cs:1,-0.5209,-2.954)--(axis cs:1,-1.026,-2.819)--(axis cs:1,-1.5,-2.598)--(axis cs:1,-1.928,-2.298)--(axis cs:1,-2.298,-1.928)--(axis cs:1,-2.598,-1.5)--(axis cs:1,-2.819,-1.026)--(axis cs:1,-2.954,-0.5209)--(axis cs:1,-3.,0)--(axis cs:1,-2.954,0.5209)--(axis cs:1,-2.819,1.026)--(axis cs:1,-2.598,1.5)--(axis cs:1,-2.298,1.928)--(axis cs:1,-1.928,2.298)--(axis cs:1,-1.5,2.598)--(axis cs:1,-1.026,2.819)--(axis cs:1,-0.5209,2.954)--cycle; \par \draw [smooth] (axis cs:1,0,1.)--(axis cs:1,0.1736,0.9848)--(axis cs:1,0.342,0.9397)--(axis cs:1,0.5,0.866)--(axis cs:1,0.6428,0.766)--(axis cs:1,0.766,0.6428)--(axis cs:1,0.866,0.5)--(axis cs:1,0.9397,0.342)--(axis cs:1,0.9848,0.1736)--(axis cs:1,1.,0)--(axis cs:1,0.9848,-0.1736)--(axis cs:1,0.9397,-0.342)--(axis cs:1,0.866,-0.5)--(axis cs:1,0.766,-0.6428)--(axis cs:1,0.6428,-0.766)--(axis cs:1,0.5,-0.866)--(axis cs:1,0.342,-0.9397)--(axis cs:1,0.1736,-0.9848)--(axis cs:1,0,-1.)--(axis cs:1,-0.1736,-0.9848)--(axis cs:1,-0.342,-0.9397)--(axis cs:1,-0.5,-0.866)--(axis cs:1,-0.6428,-0.766)--(axis cs:1,-0.766,-0.6428)--(axis cs:1,-0.866,-0.5)--(axis cs:1,-0.9397,-0.342)--(axis cs:1,-0.9848,-0.1736)--(axis cs:1,-1.,0)--(axis cs:1,-0.9848,0.1736)--(axis cs:1,-0.9397,0.342)--(axis cs:1,-0.866,0.5)--(axis cs:1,-0.766,0.6428)--(axis cs:1,-0.6428,0.766)--(axis cs:1,-0.5,0.866)--(axis cs:1,-0.342,0.9397)--(axis cs:1,-0.1736,0.9848)--cycle; \par \draw [smooth] (axis cs:0,0,1.)--(axis cs:0,0.1736,0.9848)--(axis cs:0,0.342,0.9397)--(axis cs:0,0.5,0.866)--(axis cs:0,0.6428,0.766)--(axis cs:0,0.766,0.6428)--(axis cs:0,0.866,0.5)--(axis cs:0,0.9397,0.342)--(axis cs:0,0.9848,0.1736)--(axis cs:0,1.,0)--(axis cs:0,0.9848,-0.1736)--(axis cs:0,0.9397,-0.342)--(axis cs:0,0.866,-0.5)--(axis cs:0,0.766,-0.6428)--(axis cs:0,0.6428,-0.766); \par \draw [smooth,dashed] (axis cs:0,0.6428,-0.766)--(axis cs:0,0.5,-0.866)--(axis cs:0,0.342,-0.9397)--(axis cs:0,0.1736,-0.9848)--(axis cs:0,0,-1.)--(axis cs:0,-0.1736,-0.9848)--(axis cs:0,-0.342,-0.9397)--(axis cs:0,-0.5,-0.866)--(axis cs:0,-0.6428,-0.766)--(axis cs:0,-0.766,-0.6428)--(axis cs:0,-0.866,-0.5)--(axis cs:0,-0.9397,-0.342)--(axis cs:0,-0.9848,-0.1736)--(axis cs:0,-1.,0)--(axis cs:0,-0.9848,0.1736)--(axis cs:0,-0.9397,0.342)--(axis cs:0,-0.866,0.5)--(axis cs:0,-0.766,0.6428)--(axis cs:0,-0.6428,0.766)--(axis cs:0,-0.5,0.866)--(axis cs:0,-0.342,0.9397)--(axis cs:0,-0.1736,0.9848)--(axis cs:0,0,1.); \par \end {axis} \par \node [right] at (myplot.right of origin)[shift={(-20pt,-16pt)}] {\scriptsize $x$}; \node [above] at (myplot.above origin) [shift={(0,-15pt)}] {\scriptsize $y$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
