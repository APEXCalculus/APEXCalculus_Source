\section{Partial Derivatives}\label{sec:partial_derivatives}

Let $y$ be a function of $x$. We have studied in great detail the derivative of $y$ with respect to $x$, that is, $\frac{dy}{dx}$, which measures the rate at which $y$ changes with respect to $x$. Consider now $z=f(x,y)$. It makes sense to want to know how $z$ changes with respect to $x$ and/or $y$. This section begins our investigation into these rates of change.

Consider the function $z=f(x,y) = x^2+2y^2$, as graphed in Figure \ref{fig:partialintro}(a). By fixing $y=2$, we focus our attention to all points on the surface where the $y$-value is 2, shown in both parts (a) and (b) of the figure. These points form a curve in space: $z = f(x,2) = x^2+8$ which is a function of just one variable. We can take the derivative of $z$ with respect to $x$ along this curve and find equations of tangent lines, etc. 

\mtable{.68}{By fixing $y=2$, the surface $f(x,y) = x^2+2y^2$ is a curve in space.}{fig:partialintro}
{\begin{tabular}{c}
\myincludegraphicsthree{width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=1.320775024146522,
3Dortho=0.004999999888241291,
3Dc2c=0.6570873856544495 0.6839641332626343 0.31690558791160583,
3Dcoo=-3.0739071369171143 -0.40104401111602783 58.57058334350586,
3Droo=129.99999696026478,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim = 2mm 2mm 2mm 2mm,clip}{figures/figpartialintro}\\[10pt]
%\myincludegraphics[scale=1.25,trim = 2mm 2mm 2mm 2mm,clip]{figures/figpartialintro}\\[10pt]
(a)\\[5pt]
\myincludegraphicsthree{width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=1.320775024146522,
3Dortho=0.004999999888241291,
3Dc2c=0.6570873856544495 0.6839641332626343 0.31690558791160583,
3Dcoo=-3.0739071369171143 -0.40104401111602783 58.57058334350586,
3Droo=129.99999696026478,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim = 2mm 2mm 2mm 2mm,clip}{figures/figpartialintrob}
%\myincludegraphics[scale=1.25,trim = 2mm 2mm 2mm 2mm,clip]{figures/figpartialintrob}\\[10pt]
(b)
\end{tabular}
}

The key notion to extract from this example is: by treating $y$ as  constant (it does not vary) we can consider how $z$ changes with respect to $x$. In a similar fashion, we can hold $x$ constant and consider how $z$ changes with respect to $y$. This is the underlying principle of \textbf{partial derivatives}. We state the formal, limit--based definition first, then show how to compute these partial derivatives without directly taking limits.

%\enlargethispage{4\baselineskip}
\definition{def:partial_derivative}{Partial Derivative}
{Let $z=f(x,y)$ be a continuous function on an open set $S$ in $\mathbb{R}^2$.
\begin{enumerate}
	\item The \textbf{partial derivative of $f$ with respect to $x$} is:
	$$f_x(x,y) = \lim_{h\to 0} \frac{f(x+h,y) - f(x,y)}h.$$
	%Alternate notations for $\frac{\partial z}{\partial x}$ include: $\ds\frac{\partial}{\partial x}f(x,y),\ f_x(x,y),\ \text{and}\ z_x.$
	\item The \textbf{partial derivative of $f$ with respect to $y$} is:
	$$f_y(x,y) = \lim_{h\to 0} \frac{f(x,y+h) - f(x,y)}h.$$
	
	%\item		If $f_x$ and $f_y$ are continuous on $S$, then $f$ is \textbf{differentiable} on $S$.\footnote{This definition of differentiability is mathematically ``weak'' but easy to understand; see Section \ref{sec:total_differential} for a stronger definition that is less intuitive.}
	\end{enumerate}
	\index{partial derivative}\index{derivative!partial}
}
\mnote{.35}{Alternate notations for $f_x(x,y)$ include: $$\frac{\partial}{\partial x}f(x,y),\ \ \frac{\pf}{\px},\ \ \frac{\pz}{\px},\ \ \text{and}\ z_x,$$ with similar notations for $f_y(x,y).$ For ease of notation, $f_x(x,y)$ is often abbreviated $f_x$.}

\example{ex_partial1}{Computing partial derivatives with the limit definition}{
Let $f(x,y) = x^2y + 2x+y^3$. Find $f_x(x,y)$ using the limit definition.}
{Using Definition \ref{def:partial_derivative}, we have:
\begin{align*}
f_x(x,y) &= \lim_{h\to 0} \frac{f(x+h,y) - f(x,y)}{h} \\
				&= \lim_{h\to 0} \frac{(x+h)^2y+2(x+h)+y^3 - (x^2y+2x+y^3)}{h}\\
				&= \lim_{h\to 0} \frac{(x^2y+2xhy+h^2y+2x+2h+y^3-(x^2y+2x+y^3)}{h}\\
				&= \lim_{h\to 0} \frac{2xhy+h^2y+2h}{h}\\
				&=\lim_{h\to 0} 2xy+hy+2\\
				&= 2xy+2.
\end{align*}
We have found $f_x(x,y) = 2xy+2$.
}\\

Example \ref{ex_partial1} found a partial derivative using the formal, limit--based definition. Using limits is not necessary, though, as we can rely on our previous knowledge of derivatives to compute partial derivatives easily. When computing $f_x(x,y)$, we hold $y$ fixed -- it does not vary. Therefore we can compute the derivative with respect to $x$ by treating $y$ as a constant or coefficient. 

Just as $\frac{d}{dx}\big(5x^2\big) = 10x$, we compute $\frac{\partial}{\px}\big(x^2y\big) = 2xy$. Here we are treating $y$ as a coefficient.

Just as $\frac{d}{dx}\big(5^3\big) = 0$, we compute $\frac{\partial}{\px}\big(y^3\big) = 0.$ Here we are treating $y$ as a constant. More examples will help make this clear.\\

\example{ex_partial2}{Finding partial derivatives}{
Find $f_x(x,y)$ and $f_y(x,y)$ in each of the following.
\begin{enumerate}
	\item $f(x,y) = x^3y^2+ 5y^2-x+7$
	\item	$f(x,y) = \cos(xy^2)+\sin x$
	\item	$f(x,y) = e^{x^2y^3}\sqrt{x^2+1}$
\end{enumerate} 
}
{\begin{enumerate}
	\item We have $f(x,y) = x^3y^2+ 5y^2-x+7$.\\
	Begin with $f_x(x,y)$. Keep $y$ fixed, treating it as a constant or coefficient, as appropriate:
	$$f_x(x,y) = 3x^2y^2-1.$$ Note how the $5y^2$ and $7$ terms go to zero.
	
	To compute $f_y(x,y)$, we hold $x$ fixed:
	$$f_y(x,y) = 2x^3y+10y.$$ Note how the $-x$ and $7$ terms go to zero.
	
	\item We have $f(x,y) = \cos(xy^2)+\sin x$.\\
	Begin with $f_x(x,y)$. We need to apply the Chain Rule with the cosine term; $y^2$ is the coefficient of the $x$-term inside the cosine function.
	$$f_x(x,y) = -\sin(xy^2)(y^2)+\cos x = -y^2\sin(xy^2)+\cos x.$$
	To find $f_y(x,y)$, note that $x$ is the coefficient of the $y^2$ term inside of the cosine term; also note that since $x$ is fixed, $\sin x$ is also fixed, and we treat it as a constant.
	$$f_y(x,y) = -\sin(xy^2)(2xy) = -2xy\sin(xy^2).$$
	
	\item		We have $f(x,y) = e^{x^2y^3}\sqrt{x^2+1}$.\\
	Beginning with $f_x(x,y)$, note how we need to apply the Product Rule. 
	\begin{align*}
	f_x(x,y) &= e^{x^2y^3}(2xy^3)\sqrt{x^2+1} + e^{x^2y^3}\frac12\big(x^2+1\big)^{-1/2}(2x) \\
					&= 2xy^3e^{x^2y^3}\sqrt{x^2+1}+\frac{xe^{x^2y^3}}{\sqrt{x^2+1}}.
	\end{align*}
	Note that when finding $f_y(x,y)$ we do not have to apply the Product Rule; since $\sqrt{x^2+1}$ does not contain $y$, we treat it as fixed and hence becomes a coefficient of the $e^{x^2y^3}$ term.
	$$f_y(x,y) = e^{x^2y^3}(3x^2y^2)\sqrt{x^2+1} = 3x^2y^2e^{x^2y^3}\sqrt{x^2+1}.$$
\end{enumerate}
\vskip-1.5\baselineskip
}\\

We have shown \textit{how} to compute a partial derivative, but it may still not be clear what a partial derivative \textit{means}. Given $z=f(x,y)$, $f_x(x,y)$ measures the rate at which $z$ changes as only $x$ varies: $y$ is held constant. \index{partial derivative!meaning}

Imagine standing in a rolling meadow, then beginning to walk due east. Depending on your location, you might walk up, sharply down, or perhaps not change elevation at all. This is similar to measuring $z_x$: you are moving only east (in the ``$x$''-direction) and not north/south at all. Going back to your original location, imagine now walking due north (in the ``$y$''-direction). Perhaps walking due north does not change your elevation at all. This is analogous to $z_y=0$: $z$ does not change with respect to $y$. We can see that $z_x$ and $z_y$ do not have to be the same, or even similar, as it is easy to imagine circumstances where walking east means you walk downhill, though walking north makes you walk uphill. 

The following example helps us visualize this more.\\

\example{ex_partial3}{Evaluating partial derivatives}{
Let $z=f(x,y)=-x^2-\frac12y^2+xy+10$. Find $f_x(2,1)$ and $f_y(2,1)$ and interpret their meaning.
}
{We begin by computing $f_x(x,y) = -2x+y$ and $f_y(x,y) = -y+x$. Thus
$$f_x(2,1) = -3 \quad \text{and}\quad f_y(2,1) = 1.$$
It is also useful to note that $f(2,1) = 7.5$. What does each of these numbers mean?

Consider $f_x(2,1)=-3$, along with Figure \ref{fig:partial3}(a). If one ``stands'' on the surface at the point $(2,1,7.5)$ and moves parallel to the $x$-axis (i.e., only the $x$-value changes, not the $y$-value), then the instantaneous rate of change is $-3$. Increasing the $x$-value will decrease the $z$-value; decreasing the $x$-value will increase the $z$-value.

\mtable{.65}{Illustrating the meaning of partial derivatives.}{fig:partial3}{%
\begin{tabular}{c}
\myincludegraphicsthree{width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=0.,
3Dortho=0.004999999888241291,
3Dc2c=0.6528097987174988 0.6841705441474915 0.3251922130584717,
3Dcoo=7.158430576324463 9.488722801208496 72.96935272216797,
3Droo=129.9999938624484,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim=0mm 5mm 0mm 0mm,clip}{figures/figpartial3a}\\
%\myincludegraphics[scale=1.25,trim=0mm 5mm 0mm 0mm,clip]{figures/figpartial3a}\\
(a)\\[10pt]
\myincludegraphicsthree{width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=0.,
3Dortho=0.004999999888241291,
3Dc2c=0.6528097987174988 0.6841705441474915 0.3251922130584717,
3Dcoo=7.158430576324463 9.488722801208496 72.96935272216797,
3Droo=129.9999938624484,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim=0mm 5mm 0mm 0mm,clip}{figures/figpartial3b}\\
%\myincludegraphics[scale=1.25,trim=0mm 5mm 0mm 0mm,clip]{figures/figpartial3b}\\
(b)
\end{tabular}
}

Now consider $f_y(2,1)=1$, illustrated in Figure \ref{fig:partial3}(b). Moving along the curve drawn on the surface, i.e., parallel to the $y$-axis and not changing the $x$-values, increases the $z$-value instantaneously at a rate of 1. Increasing the $y$-value by 1 would increase the $z$-value by approximately 1.

Since the magnitude of $f_x$ is greater than the magnitude of $f_y$ at $(2,1)$, it is ``steeper'' in the $x$-direction than in the $y$-direction.
}\\


\noindent\textbf{\large Second Partial Derivatives}\\

Let $z=f(x,y)$. We have learned to find the partial derivatives $f_x(x,y)$ and $f_y(x,y)$, which are each functions of $x$ and $y$. Therefore we can take partial derivatives of them, each with respect to $x$ and $y$. We define these ``second partials'' along with the notation, give examples, then discuss their meaning.

\definition{def:second_partial}{Second Partial Derivative, Mixed Partial Derivative}
{Let $z=f(x,y)$ be continuous on an open set $S$.
\begin{enumerate}
	\item The \textbf{second partial derivative of $f$ with respect to $x$ then $x$} is $$\frac{\partial}{\partial x}\left(\frac{\partial f}{\px}\right) = \frac{\partial^2 f}{\px^2} = \big(\,f_x\,\big)_x = f_{xx}$$

\item The \textbf{second partial derivative of $f$ with respect to $x$ then $y$} is $$\frac{\partial}{\partial y}\left(\frac{\partial f}{\px}\right) = \frac{\partial^2f}{\py\px} = \big(\,f_x\,\big)_y = f_{xy}$$

%\item The \textbf{second partial derivative of $f$ with respect to $y$ then $y$} is $$\frac{\partial}{\partial y}\left(\frac{\partial f}{\py}\right) = \frac{\partial^2 f}{\py^2} = \big(\,f_y\,\big)_y= f_{yy}$$
%
%\item The \textbf{second partial derivative of $f$ with respect to $y$ then $x$} is $$\frac{\partial}{\partial x}\left(\frac{\partial f}{\py}\right) = \frac{\partial^2f}{\px\py} = \big(\,f_y\,\big)_x = f_{yx}$$

\end{enumerate}

Similar definitions hold for $\ds \frac{\partial^2f}{\py^2} = f_{yy}$ and $\ds \frac{\partial^2f}{\px\py} = f_{yx}$. \\

The second partial derivatives $f_{xy}$ and $f_{yx}$ are \textbf{mixed partial derivatives}.
\index{partial derivative!mixed}\index{partial derivative!second derivative}\index{derivative!mixed partial}
}

The notation of second partial derivatives gives some insight into the notation of the second derivative of a function of a single variable. If $y=f(x)$, then $\ds \fp'(x) = \frac{d^2 y}{dx^2}$. The ``$d^2y$'' portion means ``take the derivative of $y$ twice,'' while ``$dx^2$'' means ``with respect to $x$ both times.'' When we only know of functions of a single variable, this latter phrase seems silly: there is only one variable to take the derivative with respect to. Now that we understand functions of multiple variables, we see the importance of specifying which variables we are referring to.\\

\mnote{.7}{\textbf{Note:} The terms in Definition \ref{def:second_partial} all depend on limits, so each definition comes with the caveat ``where the limit exists.''} 


\example{ex_partial6}{Second partial derivatives}{
For each of the following, find all six first and second partial derivatives. That is, find 
$$f_x,\quad f_y,\quad f_{xx},\quad f_{yy},\quad f_{xy}\quad \text{and}\quad f_{yx}\,.$$
\begin{enumerate}
	\item $f(x,y) = x^3y^2 + 2xy^3+\cos x$
	\item	$\ds f(x,y) = \frac{x^3}{y^2}$
	\item	$f(x,y)=e^{x}\sin(x^2y)$
\end{enumerate}
}
{In each, we give $f_x$ and $f_y$ immediately and then spend time deriving the second partial derivatives.
\begin{enumerate}
	\item $f(x,y) = x^3y^2+2xy^3+\cos x$
		
		$f_x(x,y) = 3x^2y^2+2y^3-\sin x$
		
		$f_y(x,y) = 2x^3y+6xy^2$
		
		$\ds f_{xx}(x,y) = \frac{\partial}{\px}\big(f_x\big) = \frac{\partial}{\px}\big(3x^2y^2+2y^3-\sin x\big) = 6xy^2-\cos x$
		
		$\ds f_{yy}(x,y) = \frac{\partial}{\py}\big(f_y\big) = \frac{\partial}{\py}\big(2x^3y+6xy^2\big) = 2x^3+12xy$
		
		$\ds f_{xy}(x,y) = \frac{\partial}{\py}\big(f_x\big) = \frac{\partial}{\py}\big(3x^2y^2+2y^3-\sin x\big) = 6x^2y+6y^2$
		
		$\ds f_{yx}(x,y) = \frac{\partial}{\px}\big(f_x\big) = \frac{\partial}{\px}\big(2x^3y+6xy^2\big) = 6x^2y+6y^2$

\enlargethispage{2\baselineskip}		
	\item		$\ds f(x,y) = \frac{x^3}{y^2} = x^3y^{-2}$
	
	$\ds f_x(x,y) = \frac{3x^2}{y^2}$
	
	$\ds f_y(x,y) = -\frac{2x^3}{y^3}$
	
	$\ds f_{xx}(x,y) = \frac{\partial}{\px}\big(f_x\big) = \frac{\partial}{\px}\big(\frac{3x^2}{y^2}\big) = \frac{6x}{y^2}$
		
		$\ds f_{yy}(x,y) = \frac{\partial}{\py}\big(f_y\big) = \frac{\partial}{\py}\big(-\frac{2x^3}{y^3}\big) = \frac{6x^3}{y^4}$
		
		$\ds f_{xy}(x,y) = \frac{\partial}{\py}\big(f_x\big) = \frac{\partial}{\py}\big(\frac{3x^2}{y^2}\big) = -\frac{6x^2}{y^3}$
		
		$\ds f_{yx}(x,y) = \frac{\partial}{\px}\big(f_x\big) = \frac{\partial}{\px}\big(-\frac{2x^3}{y^3}\big) = 
-\frac{6x^2}{y^3}$	

\item	$\ds f(x,y) = e^x\sin(x^2y)$

  Because the following partial derivatives get rather long, we omit the extra notation and just give the results. In several cases, multiple applications of the Product and Chain Rules will be necessary, followed by some basic combination of like terms.

$\ds f_x(x,y) = e^x\sin(x^2y) + 2xye^x\cos(x^2y)$
	
	$\ds f_y(x,y) = x^2e^x\cos(x^2y)$
	
	$\ds f_{xx}(x,y) = e^x\sin(x^2y)+4xye^x\cos(x^2y)+2ye^x\cos(x^2y)-4x^2y^2e^x\sin(x^2y)$ 
	
	
		$\ds f_{yy}(x,y) =  -x^4e^x\sin(x^2y)$
		
		$\ds f_{xy}(x,y) = x^2e^x\cos(x^2y)+2xe^x\cos(x^2y)-2x^3ye^x\sin(x^2y)$
		
		$\ds f_{yx}(x,y) = x^2e^x\cos(x^2y)+2xe^x\cos(x^2y)-2x^3ye^x\sin(x^2y)$
	
\end{enumerate}
\vskip-1.5\baselineskip
}
\clearpage

Notice how in each of the three functions in Example \ref{ex_partial6}, $f_{xy} = f_{yx}$. Due to the complexity of the examples, this likely is not a coincidence. The following theorem states that it is not.

\theorem{thm:mixed_partial}{Mixed Partial Derivatives}
{Let $f$ be defined such that $f_{xy}$ and $f_{yx}$ are continuous on an open set $S$. Then for each point $(x,y)$ in $S$, $f_{xy}(x,y) = f_{yx}(x,y)$.
}

Finding $f_{xy}$ and $f_{yx}$ independently and comparing the results provides a convenient way of checking our work.\\

\noindent\textbf{\large Understanding Second Partial Derivatives}\\

Now that we know \textit{how} to find second partials, we investigate \textit{what} they tell us. 

Again we refer back to a function $y=f(x)$ of a single variable. The second derivative of $f$ is ``the derivative of the derivative,'' or ``the rate of change of the rate of change.'' The second derivative measures how much the derivative is changing. If $\fp'(x)<0$, then the derivative is getting smaller (so the graph of $f$ is concave down); if $\fp'(x)>0$, then the derivative is growing, making the graph of $f$ concave up. 

Now consider $z=f(x,y)$. Similar statements can be made about $f_{xx}$ and $f_{yy}$ as could be made about $\fp'(x)$ above. When taking derivatives with respect to $x$ twice, we measure how much $f_x$ changes with respect to $x$. If $f_{xx}(x,y)<0$, it means that as $x$ increases, $f_x$ decreases, and the graph of $f$ will be concave down \textit{in the $x$-direction}. Using the analogy of standing in the rolling meadow used earlier in this section, $f_{xx}$ measures whether one's path is concave up/down when walking due east.

Similarly, $f_{yy}$ measures the concavity in the $y$-direction. If $f_{yy}(x,y)>0$, then $f_y$ is increasing with respect to $y$ and the graph of $f$ will be concave up in the $y$-direction. Appealing to the rolling meadow analogy again, $f_{yy}$ measures whether one's path is concave up/down when walking due north.

We now consider the mixed partials $f_{xy}$ and $f_{yx}$. The mixed partial $f_{xy}$ measures how much $f_x$ changes with respect to $y$. Once again using the rolling meadow analogy, $f_{x}$ measures the slope if one walks due east. Looking east, begin walking \textit{north} (side--stepping). Is the path towards the east getting steeper? If so, $f_{xy}>0$. Is the path towards the east not changing in steepness? If so, then $f_{xy}=0$. A similar thing can be said about $f_{yx}$: consider the steepness of paths heading north while side--stepping to the east.

The following example examines these ideas with concrete numbers and graphs.\\

\example{ex_partial7}{Understanding second partial derivatives}{
Let $z=x^2-y^2+xy$. Evaluate the 6 first and second partial derivatives at $(-1/2,1/2)$ and interpret what each of these numbers mean.
}
{We find that:

$f_x(x,y) = 2x+y$,\quad  $f_y(x,y) = -2y+x$,\quad $f_{xx}(x,y) = 2$, \quad $f_{yy}(x,y) = -2$ and $f_{xy}(x,y) = f_{yx}(x,y) = 1$. Thus at $(-1/2,1/2)$ we have 
$$f_x(-1/2,1/2) = -1/2,\qquad f_y(-1/2,1/2) = -3/2.$$
The slope of the tangent line at $(-1/2, 1/2, -1/4)$ in the direction of $x$ is $-1/2$: if one moves from that point parallel to the $x$-axis, the instantaneous rate of change will be $-1/2$. The slope of the tangent line
 at this point in the direction of $y$ is $-3/2$: if one moves from this point parallel to the $y$-axis, the instantaneous rate of change will be $-3/2$. These tangents lines are graphed in Figure \ref{fig:partial7}(a) and (b), respectively, where the tangent lines are drawn in a solid line. 
\mtable{.6}{Understanding the second partial derivatives in Example \ref{ex_partial7}.}{fig:partial7}{%
\begin{tabular}{c}
\myincludegraphicsthree{width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=0.4263461176034552,
3Dortho=0.004999999888241291,
3Dc2c=0.358655720949173 0.8657855987548828 0.34897172451019287,
3Dcoo=14.456816673278809 24.785551071166992 12.880075454711914,
3Droo=129.9999903526944,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim=0mm 4mm 0mm 0mm,clip}{figures/figpartial6}\\
%\myincludegraphics[scale=1.25,trim=0mm 4mm 0mm 0mm,clip]{figures/figpartial6}\\
(a)\\[10pt]
\myincludegraphicsthree{width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
3Droll=0.4263461176034552,
3Dortho=0.004999999888241291,
3Dc2c=0.358655720949173 0.8657855987548828 0.34897172451019287,
3Dcoo=14.456816673278809 24.785551071166992 12.880075454711914,
3Droo=129.9999903526944,
3Dlights=Headlamp,add3Djscript=asylabels.js}{scale=1.25,trim=0mm 4mm 0mm 0mm,clip}{figures/figpartial6b}\\
%\myincludegraphics[scale=1.25,trim=0mm 4mm 0mm 0mm,clip]{figures/figpartial6b}\\
(b)
\end{tabular}
}

Now consider only Figure \ref{fig:partial7}(a). Three directed tangent lines are drawn (two are dashed), each in the direction of $x$; that is, each has a slope determined by $f_x$. Note how as $y$ increases, the slope of these lines get closer to $0$. Since the slopes are all negative, getting closer to 0 means the \textit{slopes are increasing.} The slopes given by $f_x$ are increasing as $y$ increases, meaning $f_{xy}$ must be positive. 

Since $f_{xy}=f_{yx}$, we also expect $f_y$ to increase as $x$ increases. Consider Figure \ref{fig:partial7}(b) where again three directed tangent lines are drawn, this time each in the direction of $y$ with slopes determined by $f_y$. As $x$ increases, the slopes become less steep (closer to 0). Since these are negative slopes, this means the slopes are increasing.

Thus far we have a visual understanding of $f_x$, $f_y$, and $f_{xy}=f_{yx}$. We now interpret $f_{xx}$ and $f_{yy}$. In Figure \ref{fig:partial7}(a), we see a curve drawn where $x$ is held constant at $x=-1/2$: only $y$ varies. This curve is clearly concave down, corresponding to the fact that $f_{yy}<0$. In part (b) of the figure, we see a similar curve where $y$ is constant and only $x$ varies. This curve is concave up, corresponding to the fact that $f_{xx}>0$.
 }\\

\noindent\textbf{\large Partial Derivatives and Functions of Three Variables}\\

The concepts underlying partial derivatives can be easily extend to more than two variables. We give some definitions and examples in the case of three variables and trust the reader can extend these definitions to more variables if needed.

\definition{def:partial_multiple}{Partial Derivatives with Three Variables}
{Let $w=f(x,y,z)$ be a continuous function on an open set $S$ in $\mathbb{R}^3$. 

The \textbf{partial derivative of $f$ with respect to $x$} is:
	$$f_x(x,y,z) = \lim_{h\to 0} \frac{f(x+h,y,z)-f(x,y,z)}{h}.$$
	
	Similar definitions hold for $f_y(x,y,z)$ and $f_z(x,y,z)$.
	%\item The \textbf{second partial derivative of $f$ }
%\end{itemize}
\index{derivative!partial}\index{partial derivative}
}

By taking partial derivatives of partial derivatives, we can find second partial derivatives of $f$ with respect to $z$ then $y$, for instance, just as before.\\

\example{ex_partial8}{Partial derivatives of functions of three variables}{
For each of the following, find $f_x$,\ \ $f_y$,\ \ $f_z$,\ \  $f_{xz}$,\ \  $f_{yz}$, and $f_{zz}$.
\begin{enumerate}
	\item $f(x,y,z) = x^2y^3z^4+x^2y^2+x^3z^3+y^4z^4$
	\item	$f(x,y,z) = x\sin (yz)$
\end{enumerate}
}
{\begin{enumerate}
	\item $f_x = 2xy^3z^4+2xy^2+3x^2z^3$;\quad $f_y = 3x^2y^2z^4+2x^2y+4y^3z^4$;
	
	$f_z = 4x^2y^3z^3+3x^3z^2+4y^4z^3$;\quad $f_{xz} = 8xy^3z^3+9x^2z^2$;
	
	$f_{yz} = 12x^2y^2z^3+16y^3z^3$;\quad $f_{zz} = 12x^2y^3z^2+6x^3z+12y^4z^2$
	
	\item	$f_x = \sin(yz)$;\quad $f_y = xz\cos(yz)$;\quad $f_z = xy\cos(yz)$;
	
	$f_{xz} = y\cos(yz)$;\quad $f_{yz} = x\cos(yz) - xyz\sin(yz)$;\quad $f_{zz} = -xy^2\sin(xy)$
	\end{enumerate}
	\vskip-1.5\baselineskip
}\\

\noindent\textbf{\large Higher Order Partial Derivatives}\\

We can continue taking partial derivatives of partial derivatives of partial derivatives of \ldots; we do not have to stop with second partial derivatives. These higher order partial derivatives do not have a tidy graphical interpretation; nevertheless they are not hard to compute and worthy of some practice. 
\index{partial derivative!high order}

We do not formally define each higher order derivative, but rather give just a few examples of the notation.\\
$$f_{xyx}(x,y)  =\frac{\partial}{\px}\left(\frac{\partial}{\py}\left(\frac{\pf}{\px}\right)\right) \quad \text{and}$$
$$f_{xyz}(x,y,z)  =\frac{\partial}{\partial z}\left(\frac{\partial}{\py}\left(\frac{\pf}{\px}\right)\right)  .$$

\example{ex_partial9}{Higher order partial derivatives}{
\begin{enumerate}
	\item Let $f(x,y) = x^2y^2+\sin(xy)$. Find $f_{xxy}$ and $f_{yxx}$. 
	\item Let $f(x,y,z) = x^3e^{xy}+\cos(z)$. Find $f_{xyz}$.
\end{enumerate}
}
{\begin{enumerate}
	\item To find $f_{xxy}$, we first find $f_x$, then $f_{xx}$, then $f_{xxy}$:
	
	\begin{align*}
	f_x &= 2xy^2+y\cos(xy) \quad\quad f_{xx} = 2y^2-y^2\sin(xy)\\
	f_{xxy} &= 4y-2y\sin(xy) - xy^2\cos(xy).
	\end{align*}
	
	To find $f_{yxx}$, we first find $f_y$, then $f_{yx}$, then $f_{yxx}$:
	
	\begin{align*}
	f_y &= 2x^2y+x\cos(xy) \quad \quad f_{yx} = 4xy + \cos(xy) - xy\sin(xy)\\
	f_{yxx} &= 4y-y\sin(xy) - \big(y\sin(xy) + xy^2\cos(xy)\big)\\ &= 4y-2y\sin(xy)-xy^2\cos(xy).
	\end{align*}
	
	Note how $f_{xxy} = f_{yxx}$.
	
	\item		To find $f_{xyz}$, we find $f_x$, then $f_{xy}$, then $f_{xyz}$:
	
	\begin{align*}
	f_x &= 3x^2e^{xy}+ x^3ye^{xy} \quad \quad f_{xy} = 3x^3e^{xy}+x^3e^{xy}+x^4ye^{xy} = 4x^3e^{xy}+x^4ye^{xy}\\
	f_{xyz} &= 0.
	\end{align*}
\end{enumerate}
\vskip-1.5\baselineskip
}\\

In the previous example we saw that $f_{xxy} = f_{yxx}$; this is not a coincidence. While we do not state this as a formal theorem, as long as each partial derivative is continuous, it does not matter the order in which the partial derivatives are taken. For instance, $f_{xxy} = f_{xyx} = f_{yxx}$. 

This can be useful at times. Had we known this, the second part of Example \ref{ex_partial9} would have been much simpler to compute. Instead of computing $f_{xyz}$ in the $x$, $y$ then $z$ orders, we could have applied the $z$, then $x$ then $y$ order (as $f_{xyz} = f_{zxy}$). It is easy to see that $f_z = -\sin z$; then $f_{zx}$ and $f_{zxy}$ are clearly 0 as $f_z$ does not contain an $x$ or $y$.\\

A brief review of this section: partial derivatives measure the instantaneous rate of change of a multivariable function with respect to one variable. %When $z=f(x,y)$, $f_x$ measures the rate at which $z$ changes as we move parallel to the $x$-axis. 
With $z=f(x,y)$, the partial derivatives $f_x$ and $f_y$ measure the instantaneous rate of change of $z$ when moving parallel to the $x$- and $y$-axes, respectively. How do we measure the rate of change at a point when we do not move parallel to one of these axes? What if we move in the direction given by the vector $\la 2,1\ra$? Can we measure that rate of change? The answer is, of course, yes, we can. This is the topic of Section \ref{sec:directional_derivative}. First, we need to define what it means for a function of two variables to be \textit{differentiable.}

\printexercises{exercises/12_03_exercises}